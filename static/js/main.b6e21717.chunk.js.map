{"version":3,"sources":["actions/index.js","reducers/react.js","reducers/comment.js","reducers/share.js","reducers/user.js","reducers/index.js","configureStore.js","registerServiceWorker.js","index.js","utils/dataSchema.js","utils/dataMock.js"],"names":["__webpack_require__","d","__webpack_exports__","ADD_DATA","addData","FEEDBACK","REACTIONS","feedbackReact","undoReact","feedbackComment","_ref","entities","type","payload","REACT","UNDO_REACT","COMMENT","UNDO_COMMENT","SHARE","TARGET","LIKE","HAHA","LOVE","WOW","SAD","ANGRY","_ref2","id","_ref3","reactReducer","combineReducers","byId","state","arguments","length","undefined","action","pickBy","value","key","removeReact","reacts","Object","objectSpread","addReact","allIds","filter","reactId","removeReactId","concat","toConsumableArray","keys","addReactId","commentReducer","removeComment","comments","addComment","removeCommentId","addCommentId","shareReducer","postId","share","user","defineProperty","feedbackShare","shares","addShareId","userReducer","users","rootReducer","configureStore","preloadedState","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","error","createPostData","store","normalizedData","getNormalizedData","PostSchema","dispatch","App","React","lazy","Promise","all","e","bind","ReactDOM","render","react_default","a","createElement","es","react","fallback","postData","post","document","getElementById","URL","process","origin","addEventListener","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","ReactSchema","CommentSchema","normalizr__WEBPACK_IMPORTED_MODULE_0__","UserSchema","schema","Entity","ShareSchema","data","dataSchema","normalize","definedUsers","getFakeUser","uuid_v1__WEBPACK_IMPORTED_MODULE_0__","uuid_v1__WEBPACK_IMPORTED_MODULE_0___default","n","_actions__WEBPACK_IMPORTED_MODULE_1__","goldXFive","uuidv1","profileName","profileLink","profileImg","isVerified","theMazu","terryGoodTiming","dingDing","toolMan","english","koreanFish","careWheelEveryday","universityFoundField","sparkJoy","definedReactors","getReactor","nameId","userImg","addCommentReactions","targetId","commentIds","commentReactsTotal","ratio","Array","isArray","Error","r","ratioTotal","reduce","acc","ratioAvailable","divisorLike","divisorHaha","divisorLove","divisorWow","divisorSad","divisorAnger","totalLikes","Math","ceil","totalHahas","totalLoves","totalWows","totalSads","totalAngers","i","push","feeling","getCommentReactsTotal","reactsTotal","commentReacts","createComments","saying","time","attachMedia","mediaType","createShares","reactionsData","totalReactions","totalComments","commentId","createReactions","content"],"mappings":"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","file":"static/js/main.b6e21717.chunk.js","sourcesContent":["// import uuidv1 from 'uuid/v1'\n\nexport const ADD_DATA = 'ADD_DATA'\n\nexport const addData = ({ entities }) => ({\n  type: ADD_DATA,\n  payload: entities\n})\n\nexport const FEEDBACK = {\n  REACT: 'REACT',\n  UNDO_REACT: 'UNDO_REACT',\n  COMMENT: 'COMMENT',\n  UNDO_COMMENT: 'UNDO_COMMENT',\n  SHARE: 'SHARE',\n  TARGET: 'POST'\n}\n\nexport const REACTIONS = {\n  LIKE: 'LIKE',\n  HAHA: 'HAHA',\n  LOVE: 'LOVE',\n  WOW: 'WOW',\n  SAD: 'SAD',\n  ANGRY: 'ANGRY'\n}\n\nexport const feedbackReact = ({ entities }) => ({\n  type: FEEDBACK.REACT,\n  payload: entities\n})\n\nexport const undoReact = id => ({\n  type: FEEDBACK.UNDO_REACT,\n  payload: {\n    id\n  }\n})\n\nexport const feedbackComment = ({ entities }) => ({\n  type: FEEDBACK.COMMENT,\n  payload: entities\n})\n\nexport const feedbackShare = (\n  userInfo,\n  time = Date().now(),\n  postId = FEEDBACK.TARGET\n) => ({\n  type: FEEDBACK.SHARE,\n  payload: {\n    time,\n    user: userInfo,\n    postId\n  }\n})\n","import { combineReducers } from 'redux'\nimport pickBy from 'lodash/pickBy'\n// import merge from 'lodash/merge'\nimport { ADD_DATA, FEEDBACK } from '../actions'\n\nconst addReact = (state, action) => {\n  const {\n    payload: { reacts }\n  } = action\n  return { ...state, ...reacts }\n  // return merge({}, state, reacts)\n  // Note. with spread operator will keep denormalized state consistent\n  // but with merge() it will miss the none primitive property.\n  // Maybe it's not because of merge(), will investigate this issue later.\n}\n\nconst removeReact = (state, action) => {\n  const {\n    payload: { id }\n  } = action\n  // Remove the new React object from the updated lookup table\n  return pickBy(state, (value, key) => {\n    return key !== id\n  })\n}\n\nconst reactsById = (state = {}, action) => {\n  switch (action.type) {\n    case FEEDBACK.UNDO_REACT:\n      return removeReact(state, action)\n    case FEEDBACK.REACT:\n    case ADD_DATA:\n      return addReact(state, action)\n    default:\n      return state\n  }\n}\n\nconst addReactId = (state, action) => {\n  const {\n    payload: { reacts }\n  } = action\n  // Just append the new react's ID to the list of all IDs\n  return [...Object.keys(reacts), ...state]\n}\n\nconst removeReactId = (state, action) => {\n  const {\n    payload: { id }\n  } = action\n  // Just remove the react's ID from the list of all IDs\n  return state.filter(reactId => reactId !== id)\n}\n\nconst allReact = (state = [], action) => {\n  switch (action.type) {\n    case FEEDBACK.UNDO_REACT:\n      return removeReactId(state, action)\n    case FEEDBACK.REACT:\n    case ADD_DATA:\n      return addReactId(state, action)\n    default:\n      return state\n  }\n}\n\nconst reactReducer = combineReducers({\n  byId: reactsById,\n  allIds: allReact\n})\n\nexport default reactReducer\n","import { combineReducers } from 'redux'\nimport pickBy from 'lodash/pickBy'\nimport { ADD_DATA, FEEDBACK } from '../actions'\n\nconst addComment = (state, action) => {\n  const {\n    payload: { comments }\n  } = action\n  return { ...comments, ...state }\n  // return merge({}, state, comments)\n  // Note. with spread operator will keep denormalized state consistent\n  // but with merge() it will miss the none primitive property.\n  // Maybe it's not because of merge(), will investigate this issue later.\n}\n\nconst removeComment = (state, action) => {\n  const {\n    payload: { id }\n  } = action\n  // Remove the new Comment object from the updated lookup table\n  return pickBy(state, (value, key) => {\n    return key !== id\n  })\n}\n\nconst commentsById = (state = {}, action) => {\n  switch (action.type) {\n    case FEEDBACK.UNDO_COMMENT:\n      return removeComment(state, action)\n    case FEEDBACK.COMMENT:\n    case ADD_DATA:\n      return addComment(state, action)\n    default:\n      return state\n  }\n}\n\nconst addCommentId = (state, action) => {\n  const {\n    payload: { comments }\n  } = action\n  // Just append the new react's ID to the list of all IDs\n  return [...Object.keys(comments), ...state]\n}\n\nconst removeCommentId = (state, action) => {\n  const {\n    payload: { id }\n  } = action\n  // Just remove the comment's ID from the list of all IDs\n  return state.filter(reactId => reactId !== id)\n}\n\nconst allComment = (state = [], action) => {\n  switch (action.type) {\n    case FEEDBACK.UNDO_COMMENT:\n      return removeCommentId(state, action)\n    case FEEDBACK.COMMENT:\n    case ADD_DATA:\n      return addCommentId(state, action)\n    default:\n      return state\n  }\n}\n\nconst commentReducer = combineReducers({\n  byId: commentsById,\n  allIds: allComment\n})\n\nexport default commentReducer\n","import { combineReducers } from 'redux'\nimport { ADD_DATA, FEEDBACK } from '../actions'\n\nconst feedbackShare = (state, action) => {\n  const { payload } = action\n  const { id, postId, user } = payload\n\n  // Create our new Share object\n  const share = {\n    id,\n    user,\n    postId\n  }\n\n  // Insert the new Share object into the updated lookup table\n  return {\n    ...state,\n    [id]: share\n  }\n}\n\nconst sharesById = (state = {}, action) => {\n  switch (action.type) {\n    case FEEDBACK.SHARE:\n      return feedbackShare(state, action)\n    case ADD_DATA:\n      return { ...state, ...action.payload.shares }\n    default:\n      return state\n  }\n}\n\nconst addShareId = (state, action) => {\n  const { payload } = action\n  const { id } = payload\n  // Just append the new share's ID to the list of all IDs\n  return state.concat(id)\n}\n\nconst allShare = (state = [], action) => {\n  switch (action.type) {\n    case FEEDBACK.SHARE:\n      return addShareId(state, action)\n    case ADD_DATA:\n      return [...state, ...Object.keys(action.payload.shares)]\n    default:\n      return state\n  }\n}\n\nconst shareReducer = combineReducers({\n  byId: sharesById,\n  allIds: allShare\n})\n\nexport default shareReducer\n","import { combineReducers } from 'redux'\nimport { ADD_DATA, FEEDBACK } from '../actions'\n\n// const addUser = (state, action) => {\n//   const { payload } = action\n//   console.log('payload', payload)\n//   const { user } = payload\n\n//   // Look up the correct feedback object, to simplify the rest of the code\n//   // const post = state[id]\n\n//   // Insert the new User object into the updated lookup table\n//   return {\n//     ...state,\n//     [user.id]: user\n//   }\n// }\n\nconst usersById = (state = {}, action) => {\n  switch (action.type) {\n    case FEEDBACK.REACT:\n    case FEEDBACK.COMMENT:\n    case FEEDBACK.SHARE:\n    case ADD_DATA:\n      return { ...state, ...action.payload.users }\n    default:\n      return state\n  }\n}\n\n// const addUserId = (state, action) => {\n//   const { payload } = action\n//   const {\n//     user: { id }\n//   } = payload\n//   // Just append the new user's ID to the list of all IDs\n//   return state.concat(id)\n// }\n\nconst allUser = (state = [], action) => {\n  switch (action.type) {\n    case FEEDBACK.REACT:\n    case FEEDBACK.COMMENT:\n    case FEEDBACK.SHARE:\n    case ADD_DATA:\n      return [...state, ...Object.keys(action.payload.users)]\n    default:\n      return state\n  }\n}\n\nconst userReducer = combineReducers({\n  byId: usersById,\n  allIds: allUser\n})\n\nexport default userReducer\n","import { combineReducers } from 'redux'\nimport reactReducer from './react'\nimport commentReducer from './comment'\nimport shareReducer from './share'\nimport userReducer from './user'\n\nconst rootReducer = combineReducers({\n  reactReducer,\n  commentReducer,\n  shareReducer,\n  userReducer\n})\n\nexport default rootReducer\n","import { createStore } from 'redux'\nimport rootReducer from './reducers'\n\nconst configureStore = preloadedState => {\n  return createStore(\n    rootReducer,\n    preloadedState,\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  )\n}\n\nexport default configureStore\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets see https://github.com/facebookincubator/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          )\n        })\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available please refresh.\" message in your web app.\n              console.log('New content is available please refresh.')\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","// As of Babel 7.4.0, this package has been deprecated in favor of directly\n// including core-js/stable (to polyfill ECMAScript features)\n// and regenerator-runtime/runtime (needed to use transpiled generator functions):\n// import \"core-js/stable\";\n// import \"regenerator-runtime/runtime\";\n// ref: https://babeljs.io/docs/en/babel-polyfill\nimport 'core-js/stable/object/keys'\nimport 'core-js/stable/array/is-array'\nimport 'core-js/stable/array/sort'\nimport 'core-js/stable/array/filter'\nimport 'core-js/stable/array/map'\nimport 'core-js/stable/array/reduce'\nimport 'core-js/stable/string/replace'\nimport 'core-js/stable/string/split'\nimport 'core-js/stable/string/starts-with'\nimport 'core-js/stable/number/to-fixed'\nimport 'core-js/stable/date/now'\nimport React, { Suspense } from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport configureStore from './configureStore'\nimport registerServiceWorker from './registerServiceWorker'\nimport { createPostData } from './utils/dataMock'\nimport { getNormalizedData, PostSchema } from './utils/dataSchema'\nimport { addData } from './actions'\n\nconst preloadedState = createPostData()\nconst store = configureStore()\nconst normalizedData = getNormalizedData(preloadedState, PostSchema)\nstore.dispatch(addData(normalizedData))\n\nconst App = React.lazy(() => import('./containers/App'))\n\nReactDOM.render(\n  <Provider store={store}>\n    <Suspense fallback={<div>Loading...</div>}>\n      <App postData={preloadedState.post} />\n    </Suspense>\n  </Provider>,\n  document.getElementById('root')\n)\nregisterServiceWorker()\n","import { normalize, schema } from 'normalizr'\n\n// Define a users schema\nconst UserSchema = new schema.Entity('users')\n\nexport const ReactSchema = new schema.Entity('reacts', {\n  user: UserSchema\n})\n\n// Define your comments schema\nexport const CommentSchema = new schema.Entity('comments', {\n  user: UserSchema\n})\n\n// Define your shares schema\nexport const ShareSchema = new schema.Entity('shares', {\n  user: UserSchema\n})\n\n// Define your post schema\nexport const PostSchema = new schema.Entity('post', {\n  reacts: [ReactSchema],\n  comments: [CommentSchema],\n  shares: [ShareSchema]\n})\n\nexport const getNormalizedData = (data, dataSchema) =>\n  normalize(data, dataSchema)\n","import uuidv1 from 'uuid/v1'\nimport { REACTIONS, FEEDBACK } from '../actions'\n\nexport const definedUsers = {\n  goldXFive: {\n    id: uuidv1(),\n    profileName: '金乘五',\n    profileLink: 'https://www.facebook.com/takeshikaneshirofanspage/',\n    profileImg: 'goldxfive.png',\n    isVerified: false\n  },\n  theMazu: {\n    id: uuidv1(),\n    profileName: '媽祖',\n    profileLink: 'https://www.facebook.com/themazhou/',\n    profileImg: 'mazu.png',\n    isVerified: false\n  },\n  terryGoodTiming: {\n    id: uuidv1(),\n    profileName: '鍋苔冥',\n    profileLink: 'https://www.facebook.com/TerryGou1018/',\n    profileImg: 'terry.png',\n    isVerified: true\n  },\n  dingDing: {\n    id: uuidv1(),\n    profileName: '叮守鐘',\n    profileLink: 'https://www.youtube.com/watch?v=_97bLScvHWs',\n    profileImg: 'dingding.png',\n    isVerified: false\n  },\n  toolMan: {\n    id: uuidv1(),\n    profileName: '台灣工具伯 汪進坪',\n    profileLink: 'https://www.facebook.com/jingping.tw/',\n    profileImg: 'toolman.png',\n    isVerified: true\n  },\n  english: {\n    id: uuidv1(),\n    profileName: '菜應蚊',\n    profileLink: 'https://www.facebook.com/tsaiingwen/',\n    profileImg: 'english.png',\n    isVerified: true\n  },\n  koreanFish: {\n    id: uuidv1(),\n    profileName: '憨摑娛',\n    profileLink: 'https://www.facebook.com/twherohan/',\n    profileImg: 'korean-fish.png',\n    isVerified: true\n  },\n  careWheelEveryday: {\n    id: uuidv1(),\n    profileName: '每天關心愛情摩天輪的興建狀況',\n    profileLink: 'https://www.facebook.com/CareLoveFerrisWheelEveryday/',\n    profileImg: 'wheel.png',\n    isVerified: false\n  },\n  universityFoundField: {\n    id: uuidv1(),\n    profileName: '找到田大學',\n    profileLink: '#',\n    profileImg: 'anonymous-university.png',\n    isVerified: false\n  },\n  sparkJoy: {\n    id: uuidv1(),\n    profileName: '尛理惠的整理魔法',\n    profileLink: '#',\n    profileImg: 'sparkJoy.png',\n    isVerified: true\n  }\n}\n\nconst definedReactors = [\n  definedUsers.terryGoodTiming,\n  definedUsers.koreanFish,\n  definedUsers.universityFoundField,\n  definedUsers.english,\n  definedUsers.toolMan,\n  definedUsers.dingDing\n]\n\n/**\n * Get user object for reactions with the following properties:\n *   @prop {id}\n *   @prop {profileName}\n *   @prop {profileLink}\n *   @prop {profileImg}\n * @param {nameId} nameId\n *  An id to distinguish from users,\n *  will append to @prop {profileName}.\n * @param {gender} gender\n *  Choose an img represent gender, `MALE` if ommited.\n */\nexport const getReactor = (nameId, gender = 'MALE') => {\n  const maleUserImg = 'anonymous-male.png'\n  const femaleUserImg = 'anonymous-female.png'\n  const userImg = gender === 'MALE' ? maleUserImg : femaleUserImg\n  const user = nameId < definedReactors.length ?\n    definedReactors[nameId] :\n    {\n      id: uuidv1(),\n      profileName: `假帳號${nameId}`,\n      profileLink: '#',\n      profileImg: userImg,\n      isVerified: false\n    }\n  return user\n}\n\n/**\n * Get fake user object with the following properties:\n *   @prop {id}\n *   @prop {profileName}\n *   @prop {profileLink}\n *   @prop {profileImg}\n * @param {nameId} nameId\n *  An id to distinguish from users,\n *  will append to @prop {profileName}.\n * @param {gender} gender\n *  Choose an img represent gender, `MALE` if ommited.\n */\nexport const getFakeUser = (nameId, gender = 'MALE') => {\n  const maleUserImg = 'anonymous-male.png'\n  const femaleUserImg = 'anonymous-female.png'\n  const userImg = gender === 'MALE' ? maleUserImg : femaleUserImg\n  return {\n    id: uuidv1(),\n    profileName: `假帳號${nameId}`,\n    profileLink: '#',\n    profileImg: userImg,\n    isVerified: false\n  }\n}\n\nconst addCommentReactions = (\n  reacts,\n  targetId,\n  commentIds,\n  commentReactsTotal = 200,\n  ratio = [3, 2, 1]\n) => {\n  if (!Array.isArray(reacts)) {\n    throw new Error('reacts must be array.')\n  }\n  if (typeof targetId !== 'string') {\n    throw new Error('Target comment id must be string.')\n  }\n  if (!Array.isArray(commentIds)) {\n    throw new Error('commentIds must be array.')\n  }\n  if (ratio.length > 6 || ratio.length < 1) {\n    throw new Error('Ratio must be 1 to 6 numbers.')\n  }\n  if (ratio.filter(r => typeof r !== 'number').length > 0) {\n    throw new Error('Array of ratio must be type of number.')\n  }\n  // Calculate reations feeling distribution by ratio\n  // If commentReactsTotal < ratioTotal, ratio will be [1] for full of Likes\n  const ratioTotal = ratio.reduce((r, acc) => r + acc)\n  const ratioAvailable = commentReactsTotal >= ratioTotal\n  const divisorLike = ratioAvailable ? ratioTotal / ratio[0] : 1\n  const divisorHaha = ratioAvailable && ratio[1] ? ratioTotal / ratio[1] : 0\n  const divisorLove = ratioAvailable && ratio[2] ? ratioTotal / ratio[2] : 0\n  const divisorWow = ratioAvailable && ratio[3] ? ratioTotal / ratio[3] : 0\n  const divisorSad = ratioAvailable && ratio[4] ? ratioTotal / ratio[4] : 0\n  const divisorAnger = ratioAvailable && ratio[5] ? ratioTotal / ratio[5] : 0\n  const totalLikes =\n    divisorLike === 0 ? 0 : Math.ceil(commentReactsTotal / divisorLike)\n  const totalHahas =\n    divisorHaha === 0 ? 0 : Math.ceil(commentReactsTotal / divisorHaha)\n  const totalLoves =\n    divisorLove === 0 ? 0 : Math.ceil(commentReactsTotal / divisorLove)\n  const totalWows =\n    divisorWow === 0 ? 0 : Math.ceil(commentReactsTotal / divisorWow)\n  const totalSads =\n    divisorSad === 0 ? 0 : Math.ceil(commentReactsTotal / divisorSad)\n  const totalAngers =\n    divisorAnger === 0 ? 0 : Math.ceil(commentReactsTotal / divisorAnger)\n  for (let i = 0; i < commentReactsTotal; i++) {\n    if (i < totalLikes) {\n      reacts.push({\n        id: uuidv1(),\n        user: getFakeUser(i),\n        feeling: REACTIONS.LIKE,\n        targetId\n      })\n    } else if (i < totalLikes + totalHahas) {\n      reacts.push({\n        id: uuidv1(),\n        user: getFakeUser(i),\n        feeling: REACTIONS.HAHA,\n        targetId\n      })\n    } else if (i < totalLikes + totalHahas + totalLoves) {\n      reacts.push({\n        id: uuidv1(),\n        user: getFakeUser(i),\n        feeling: REACTIONS.LOVE,\n        targetId\n      })\n    } else if (i < totalLikes + totalHahas + totalLoves + totalWows) {\n      reacts.push({\n        id: uuidv1(),\n        user: getFakeUser(i),\n        feeling: REACTIONS.WOW,\n        targetId\n      })\n    } else if (\n      i <\n      totalLikes + totalHahas + totalLoves + totalWows + totalSads\n    ) {\n      reacts.push({\n        id: uuidv1(),\n        user: getFakeUser(i),\n        feeling: REACTIONS.SAD,\n        targetId\n      })\n    } else if (\n      i <\n      totalLikes + totalHahas + totalLoves + totalWows + totalSads + totalAngers\n    ) {\n      reacts.push({\n        id: uuidv1(),\n        user: getFakeUser(i),\n        feeling: REACTIONS.ANGRY,\n        targetId\n      })\n    }\n  }\n  commentIds.push(targetId)\n}\n\nconst getCommentReactsTotal = (reactsTotal, ratio = 388) => {\n  const minCommentReacts = 6\n  const commentReacts = Math.ceil(reactsTotal / ratio)\n  return commentReacts > minCommentReacts ? commentReacts : minCommentReacts\n}\n\n/**\n * create fake reactions with default ratio of\n * 1/2 of Likes, 1/3 of Hahas and 1/6 of Loves\n * if @param {ratio} ratio was omitted.\n * @param {totalReactions} totalReactions\n *  How many reactions to make, at least to be 1,\n *  16419 will pass down if omitted.\n * @param {totalComments} totalComments\n *  How many comments to make, 214 will pass down if omitted.\n * @param {ratio} ratio\n *  How to distribute the ratio of reaction type,\n *  accept only an array of 1 to 6 numbers,\n *  and ignore the omitted numbers.\n *  eg. `[3,2,1]` will distribute the ratio for\n *  3/(3+2+1) of `Like`, 2/(3+2+1) of `Haha`,\n *  1/(3+2+1) of `Love` and empty ratio for the rest of types.\n *  eg2. `[1]` will distribute the ratio for full of `Like`.\n *  eg3. `[0,0,0,0,0,1]` will distribute the ratio for full of `Anger`.\n *  eg4. `[0,0,0,0,1]` will distribute the ratio for full of `Sad`.\n * @returns {reactObj}\n *  An object contains th following properties:\n *  @prop {reacts}\n *   An array of objects contains the following properties:\n *   @prop {name}\n *    The user's profile name\n *   @prop {feeling}\n *    The react's feeling: `Like`, `Haha`, `Love`,\n *    `Wow`, `Sad`, `Anger`\n *  @prop {commentIds}\n *   An array of @prop {commentId}, type is string.\n *   For @function createComments .\n */\nexport const createReactions = (\n  totalReactions = 12419,\n  totalComments = 214,\n  ratio = [3, 2, 1]\n) => {\n  if (totalReactions < 1) {\n    throw new Error('Number of total reactions at least to be 1.')\n  }\n  if (ratio.length > 6 || ratio.length < 1) {\n    throw new Error('Ratio must be 1 to 6 numbers.')\n  }\n  if (ratio.filter(r => typeof r !== 'number').length > 0) {\n    throw new Error('Array of ratio must be type of number.')\n  }\n  // Calculate reations feeling distribution by ratio\n  // If totalReactions < ratioTotal, ratio will be [1] for full of Likes\n  const ratioTotal = ratio.reduce((r, acc) => r + acc)\n  const ratioAvailable = totalReactions >= ratioTotal\n  const divisorLike = ratioAvailable ? ratioTotal / ratio[0] : 1\n  const divisorHaha = ratioAvailable && ratio[1] ? ratioTotal / ratio[1] : 0\n  const divisorLove = ratioAvailable && ratio[2] ? ratioTotal / ratio[2] : 0\n  const divisorWow = ratioAvailable && ratio[3] ? ratioTotal / ratio[3] : 0\n  const divisorSad = ratioAvailable && ratio[4] ? ratioTotal / ratio[4] : 0\n  const divisorAnger = ratioAvailable && ratio[5] ? ratioTotal / ratio[5] : 0\n  const totalLikes =\n    divisorLike === 0 ? 0 : Math.ceil(totalReactions / divisorLike)\n  const totalHahas =\n    divisorHaha === 0 ? 0 : Math.ceil(totalReactions / divisorHaha)\n  const totalLoves =\n    divisorLove === 0 ? 0 : Math.ceil(totalReactions / divisorLove)\n  const totalWows = divisorWow === 0 ? 0 : Math.ceil(totalReactions / divisorWow)\n  const totalSads = divisorSad === 0 ? 0 : Math.ceil(totalReactions / divisorSad)\n  const totalAngers =\n    divisorAnger === 0 ? 0 : Math.ceil(totalReactions / divisorAnger)\n  // Add reactions as many as totalReactions\n  // And the first n reactions is pre-defined reactors\n  // (n = length of pre-defined reactors)\n  // Or (totalReactions + commentReactsTotal) reactions for comments\n  // if totalComments > 0\n  const reacts = []\n  for (let i = 0; i < totalReactions; i++) {\n    if (i < totalLikes) {\n      reacts.push({\n        id: uuidv1(),\n        user: getReactor(i),\n        feeling: REACTIONS.LIKE,\n        targetId: FEEDBACK.TARGET\n      })\n    } else if (i < totalLikes + totalHahas) {\n      reacts.push({\n        id: uuidv1(),\n        user: getReactor(i),\n        feeling: REACTIONS.HAHA,\n        targetId: FEEDBACK.TARGET\n      })\n    } else if (i < totalLikes + totalHahas + totalLoves) {\n      reacts.push({\n        id: uuidv1(),\n        user: getReactor(i),\n        feeling: REACTIONS.LOVE,\n        targetId: FEEDBACK.TARGET\n      })\n    } else if (i < totalLikes + totalHahas + totalLoves + totalWows) {\n      reacts.push({\n        id: uuidv1(),\n        user: getReactor(i),\n        feeling: REACTIONS.WOW,\n        targetId: FEEDBACK.TARGET\n      })\n    } else if (\n      i <\n      totalLikes + totalHahas + totalLoves + totalWows + totalSads\n    ) {\n      reacts.push({\n        id: uuidv1(),\n        user: getReactor(i),\n        feeling: REACTIONS.SAD,\n        targetId: FEEDBACK.TARGET\n      })\n    } else if (\n      i <\n      totalLikes + totalHahas + totalLoves + totalWows + totalSads + totalAngers\n    ) {\n      reacts.push({\n        id: uuidv1(),\n        user: getReactor(i),\n        feeling: REACTIONS.ANGRY,\n        targetId: FEEDBACK.TARGET\n      })\n    }\n  }\n  // Add reactions for comments if totalComments > 0\n  const commentIds = []\n  let commentReactsTotal = 0\n  if (totalComments > 0) {\n    let commentId = uuidv1()\n    commentReactsTotal = getCommentReactsTotal(totalReactions, 240)\n    addCommentReactions(reacts, commentId, commentIds, commentReactsTotal, [\n      0,\n      0,\n      0,\n      0,\n      0,\n      1\n    ])\n    commentId = uuidv1()\n    commentReactsTotal = getCommentReactsTotal(totalReactions, 124)\n    addCommentReactions(reacts, commentId, commentIds, commentReactsTotal, [\n      2,\n      0,\n      0,\n      0,\n      0,\n      1\n    ])\n    commentId = uuidv1()\n    commentReactsTotal = getCommentReactsTotal(totalReactions, 112)\n    addCommentReactions(reacts, commentId, commentIds, commentReactsTotal, [\n      2,\n      1\n    ])\n    commentId = uuidv1()\n    commentReactsTotal = getCommentReactsTotal(totalReactions, 80)\n    addCommentReactions(reacts, commentId, commentIds, commentReactsTotal, [\n      3,\n      2,\n      0,\n      1\n    ])\n    commentId = uuidv1()\n    commentReactsTotal = getCommentReactsTotal(totalReactions, 112)\n    addCommentReactions(reacts, commentId, commentIds, commentReactsTotal, [\n      2,\n      0,\n      0,\n      1\n    ])\n    commentId = uuidv1()\n    commentReactsTotal = getCommentReactsTotal(totalReactions, 125)\n    addCommentReactions(reacts, commentId, commentIds, commentReactsTotal, [\n      2,\n      3,\n      0,\n      0,\n      0\n    ])\n    commentId = uuidv1()\n    commentReactsTotal = getCommentReactsTotal(totalReactions, 244)\n    addCommentReactions(reacts, commentId, commentIds, commentReactsTotal, [\n      2,\n      1,\n      0,\n      1,\n      2\n    ])\n    commentId = uuidv1()\n    commentReactsTotal = getCommentReactsTotal(totalReactions, 160)\n    addCommentReactions(reacts, commentId, commentIds, commentReactsTotal, [\n      2,\n      1,\n      0,\n      1\n    ])\n    commentReactsTotal = getCommentReactsTotal(totalReactions)\n  }\n  for (let i = 0; i < totalComments; i++) {\n    addCommentReactions(reacts, uuidv1(), commentIds, commentReactsTotal, [\n      2,\n      3,\n      0,\n      1,\n      2\n    ])\n  }\n  const reactObj = { reacts, commentIds }\n  return reactObj\n}\n\n/**\n * create fake comments.\n * @param {commentIds} commentIds\n *  How many comments to make, based on output of\n *  @function createReactions .\n * @returns {comments}\n *  An array of objects contains the following properties:\n *  @prop {name}\n *    The user's profile name\n */\nexport const createComments = (commentIds = []) => {\n  const comments = [\n    {\n      id: commentIds[0],\n      user: definedUsers.terryGoodTiming,\n      saying: '謝謝樓主托夢，三樓的民主不能當飯吃！',\n      time: '3天',\n      targetId: FEEDBACK.TARGET,\n      reactId: uuidv1()\n    },\n    {\n      id: commentIds[1],\n      user: definedUsers.koreanFish,\n      saying: '樓上為什麼不考慮吃個包子呢？',\n      time: '3天',\n      targetId: FEEDBACK.TARGET,\n      reactId: uuidv1()\n    },\n    {\n      id: commentIds[2],\n      user: definedUsers.english,\n      saying: '我也這麼覺得',\n      time: '4天',\n      targetId: FEEDBACK.TARGET,\n      reactId: uuidv1()\n    },\n    {\n      id: commentIds[3],\n      user: definedUsers.toolMan,\n      saying: '這個我想，要查證比較難啦',\n      time: '5天',\n      targetId: FEEDBACK.TARGET,\n      reactId: uuidv1()\n    },\n    {\n      id: commentIds[4],\n      user: definedUsers.dingDing,\n      saying: '可以托夢讓我重選台北市長嗎？',\n      time: '4天',\n      targetId: FEEDBACK.TARGET,\n      reactId: uuidv1()\n    },\n    {\n      id: commentIds[5],\n      user: definedUsers.universityFoundField,\n      saying: '五樓要不要藉這個機會在神明的面前澄清一下？',\n      attachMedia: 'https://i.imgur.com/wvWFAMT.png',\n      mediaType: 'pic',\n      time: '3天',\n      targetId: FEEDBACK.TARGET,\n      reactId: uuidv1()\n    },\n    {\n      id: commentIds[6],\n      user: definedUsers.careWheelEveryday,\n      saying: '五樓，我快等不及了',\n      time: '5天',\n      targetId: FEEDBACK.TARGET,\n      reactId: uuidv1()\n    },\n    {\n      id: commentIds[7],\n      user: definedUsers.sparkJoy,\n      saying: `臺灣的碰有打家好～\n      今天要來教打家年後清理臉書版面的小妙招分享\n      1. 點進去五樓的粉絲團\n      2. 啊～原來ＸＸＸ和其他 10 位朋友都說這個讚\n      3. 果斷斷開好友連結\n      #怦然心動的臉書整理魔法\n      #簡單三步驟打家學會了嗎`,\n      time: '5天',\n      targetId: FEEDBACK.TARGET,\n      reactId: uuidv1()\n    }\n  ]\n  for (let i = 8; i < commentIds.length; i++) {\n    comments.push({\n      id: commentIds[i],\n      user: getFakeUser(i),\n      saying: '假留言',\n      time: `${i}天`,\n      targetId: FEEDBACK.TARGET,\n      reactId: uuidv1()\n    })\n  }\n  return comments\n}\n\n/**\n * create fake shares.\n * @param {commentReactsTotal} commentReactsTotal\n *  How many shares to make, must be greater than 2,\n *  2903 will pass down if omitted.\n * @returns {shares}\n *  An array of objects contains the following properties:\n *  @prop {name}\n *    The user's profile name\n */\nexport const createShares = (commentReactsTotal = 290) => {\n  const shares = [\n    { id: uuidv1(), user: definedUsers.terryGoodTiming },\n    { id: uuidv1(), user: definedUsers.koreanFish },\n    { id: uuidv1(), user: definedUsers.english },\n    { id: uuidv1(), user: definedUsers.toolMan },\n    { id: uuidv1(), user: definedUsers.dingDing },\n    { id: uuidv1(), user: definedUsers.universityFoundField },\n    { id: uuidv1(), user: definedUsers.careWheelEveryday },\n    { id: uuidv1(), user: definedUsers.sparkJoy }\n  ]\n  if (commentReactsTotal < 2) throw new Error('Number of total must greater than 2.')\n  for (let i = 0; i < commentReactsTotal; i++) {\n    shares.push({ id: uuidv1(), user: getFakeUser(i) })\n  }\n  return shares\n}\n\nexport const createPostData = (reacts = 12419, comments = 2, shares = 152) => {\n  const reactionsData = createReactions(reacts, comments)\n  const initPostDatas = {\n    post: {\n      id: 'POST',\n      user: definedUsers.theMazu,\n      time: 1555495920000,\n      // UNIX-timestamp in milli-sec for local time: 2019/04/17 18:12:00\n      content: '我根本沒說。'\n    },\n    reacts: reactionsData.reacts,\n    comments: createComments(reactionsData.commentIds),\n    shares: createShares(shares)\n  }\n  return initPostDatas\n}\n"],"sourceRoot":""}